const fs=require('fs'); const s=fs.readFileSync('assets/js/admin.js','utf8'); let p=0,b=0,br=0; let inS=false,inD=false,inB=false,esc=false; for(let i=0;i<s.length;i++){const ch=s[i]; if(esc){esc=false; continue;} if(ch==='\\'){esc=true; continue;} if(ch==="'" && !inD && !inB){ inS=!inS; continue;} if(ch==='"' && !inS && !inB){ inD=!inD; continue;} if(ch==='`' && !inS && !inD){ inB=!inB; continue;} if(inS||inD||inB) continue; if(ch==='(') p++; else if(ch===')') p--; else if(ch==='{') b++; else if(ch==='}') b--; else if(ch==='[') br++; else if(ch===']') br--; } console.log('paren',p,'brace',b,'brack',br);